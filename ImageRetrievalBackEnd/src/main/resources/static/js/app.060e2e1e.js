(function(){"use strict";var t={3999:function(t,e,n){var r=n(6369),s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("IndexPage")],1)},a=[],o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("nav",[t._m(0),e("ul",[e("li",[e("a",{on:{click:function(e){t.componentName="ColorMoments"}}},[t._v("颜色矩")])]),e("li",[e("a",{on:{click:function(e){t.componentName="ORB"}}},[t._v("ORB")])]),e("li",[e("button",{on:{click:function(e){t.componentName="SearchImage"}}},[t._v("搜索图片")])]),e("li",[e("button",{on:{click:function(e){t.componentName="ImageAnnotation"}}},[t._v("图片相似标注")])])])]),e(t.componentName,{tag:"component"})],1)},i=[function(){var t=this,e=t._self._c;return e("ul",[e("li",[e("strong",[t._v("图片检索系统")])])])}],l=function(){var t=this,e=t._self._c;return e("div",[e("h5",[t._v("颜色矩的聚类信息")]),e("table",[t._m(0),e("tbody",t._l(t.clusterInfos,(function(n){return e("tr",{key:n.clusterId},[e("td",[t._v(t._s(n.clusterId))]),e("td",[t._v(t._s(n.pointCount))]),e("td",[t._v(t._s(n.centerCoordinate))])])})),0)]),e("h5",[t._v("每个聚类所包含的点")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedCluster,expression:"selectedCluster"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedCluster=e.target.multiple?n:n[0]},t.handleSelectedClusterChange]}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("选择聚类")]),t._l(t.clusterInfos,(function(n){return e("option",{key:n.clusterId,domProps:{value:n.clusterId}},[t._v(t._s(n.clusterId))])}))],2),e("table",[t._m(1),e("tbody",t._l(t.imageInfos,(function(n){return e("tr",{key:n.imageId},[e("td",[t._v(t._s(n.imageId))]),e("td",[t._v(t._s(n.clusterId))]),e("td",[t._v(t._s(n.cmVector))]),e("td",[e("img",{attrs:{src:n.url}})])])})),0)])])},c=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("聚类id")]),e("th",{attrs:{scope:"col"}},[t._v("点的数量")]),e("th",{attrs:{scope:"col"}},[t._v("中心坐标 (此处只保留两位小数)")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("图片id")]),e("th",{attrs:{scope:"col"}},[t._v("所属聚类的id")]),e("th",{attrs:{scope:"col"}},[t._v("图片对应的颜色矩向量")]),e("th",{attrs:{scope:"col"}},[t._v("图片展示")])])])}],u=n(4161);const d="http://localhost:8080";var h={baseURL:d},_=u.Z.create({baseURL:h.baseURL}),f=_,v={mounted(){this.getClusterInfos()},methods:{getClusterInfos(){f({url:"/colorMoments/getClusterInfos/5/1",method:"get"}).then((t=>{this.clusterInfos=t.data.data}))},handleSelectedClusterChange(){var t={clusterId:this.selectedCluster};f({url:"/colorMoments/getPointsByClusterId/"+this.clusterPageSize+"/"+this.clusterCurrentPage,method:"post",headers:{"Content-Type":"application/json"},data:JSON.stringify(t)}).then((t=>{this.imageInfos=t.data.data}))}},data(){return{clusterInfos:[],imageInfos:[],selectedCluster:"",clusterPageSize:10,clusterCurrentPage:1,pointPageSize:20,pointCurrentPage:1}}},m=v,p=n(3736),g=(0,p.Z)(m,l,c,!1,null,null,null),I=g.exports,b=function(){var t=this,e=t._self._c;return e("div",[e("h5",[t._v("ORB的信息")]),e("table",[t._m(0),e("tbody",t._l(t.orbInfos,(function(n){return e("tr",{key:n.imageId},[e("td",[t._v(t._s(n.imageId))]),e("td",[t._v(t._s(n.fdNums))]),e("td",[e("img",{attrs:{src:n.url}})])])})),0)])])},C=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("图片id")]),e("th",{attrs:{scope:"col"}},[t._v("特征描述子的数量")]),e("th",{attrs:{scope:"col"}},[t._v("图片展示")])])])}],y={mounted(){this.getORBInfos()},methods:{getORBInfos(){f({url:"/orb/getOrbInfos/10/1",method:"get"}).then((t=>{this.orbInfos=t.data.data}))}},data(){return{orbInfos:[]}}},R=y,P=(0,p.Z)(R,b,C,!1,null,null,null),k=P.exports,O=function(){var t=this,e=t._self._c;return e("div",[e("h1",[t._v("以图搜图")]),e("input",{ref:"fileInput",attrs:{type:"file"},on:{change:t.onFileChange}}),e("button",{attrs:{type:"button"},on:{click:t.searchImage}},[t._v("Upload")]),e("div",[t._v(t._s(t.message))]),e("h1",[t._v("颜色矩搜索结果")]),e("table",[t._m(0),e("tbody",t._l(t.searchInfos.cmSearchResults,(function(n){return e("tr",{key:n.imageId},[e("td",[t._v(t._s(n.imageId))]),e("td",[t._v(t._s(n.similarityScore))]),e("td",[e("img",{attrs:{src:n.url}})])])})),0)]),e("h1",[t._v("ORB搜索结果")]),e("table",[t._m(1),e("tbody",t._l(t.searchInfos.orbSearchResults,(function(n){return e("tr",{key:n.imageId},[e("td",[t._v(t._s(n.imageId))]),e("td",[t._v(t._s(n.similarityScore))]),e("td",[e("img",{attrs:{src:n.url}})])])})),0)])])},x=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("图片id")]),e("th",{attrs:{scope:"col"}},[t._v("匹配值（越低相似度越高）")]),e("th",{attrs:{scope:"col"}},[t._v("图片展示")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("图片id")]),e("th",{attrs:{scope:"col"}},[t._v("相似度")]),e("th",{attrs:{scope:"col"}},[t._v("图片展示")])])])}],w={data(){return{file:null,message:"",searchInfos:{}}},methods:{onFileChange(t){this.file=t.target.files[0]},searchImage(){let t=new FormData;t.append("name",this.file.name),t.append("file",this.file);try{var e=this;u.Z.post(h.baseURL+"/searchImage",t).then((t=>{e.searchInfos=t.data.data})),this.message="File uploaded successfully"}catch(n){this.message="Failed to upload file"}}}},S=w,B=(0,p.Z)(S,O,x,!1,null,null,null),N=B.exports,Z=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"container"},[e("article",{staticClass:"image-card"},[e("img",{attrs:{src:t.image1_src,alt:""}})]),e("article",{staticClass:"image-card"},[e("img",{attrs:{src:t.image2_src,alt:""}})]),e("article",{staticClass:"button-card"},[e("button",{on:{click:function(e){return t.handleButtonClick(!0)}}},[t._v("相似")]),e("button",{on:{click:function(e){return t.handleButtonClick(!1)}}},[t._v("不相似")])])]),e("button",{staticClass:"cal-button",on:{click:t.handleCalButton}},[t._v("计算结果")]),e("table",[t._m(0),e("tr",[e("td",[t._v("Accuracy")]),e("td",[t._v(t._s(this.calculateResult.accuracy_cm))])]),e("tr",[e("td",[t._v("Precision")]),e("td",[t._v(t._s(this.calculateResult.precision_cm))])]),e("tr",[e("td",[t._v("Recall")]),e("td",[t._v(t._s(this.calculateResult.recall_cm))])]),e("tr",[e("td",[t._v("F-measure")]),e("td",[t._v(t._s(this.calculateResult.f_measure_cm))])])]),e("table",[t._m(1),e("tr",[e("td",[t._v("Accuracy")]),e("td",[t._v(t._s(this.calculateResult.accuracy_orb))])]),e("tr",[e("td",[t._v("Precision")]),e("td",[t._v(t._s(this.calculateResult.precision_orb))])]),e("tr",[e("td",[t._v("Recall")]),e("td",[t._v(t._s(this.calculateResult.recall_orb))])]),e("tr",[e("td",[t._v("F-measure")]),e("td",[t._v(t._s(this.calculateResult.f_measure_orb))])])])])},A=[function(){var t=this,e=t._self._c;return e("tr",[e("th",[t._v("颜色矩计算结果")])])},function(){var t=this,e=t._self._c;return e("tr",[e("th",[t._v("ORB计算结果")])])}],U={mounted(){this.getAnnoInfos()},methods:{getAnnoInfos(){f({url:"/annoInfo/2000/1",method:"get"}).then((t=>{this.annoInfos=t.data.data,this.image1_src=this.annoInfos[this.showedPairIndex].imageURL1,this.image2_src=this.annoInfos[this.showedPairIndex].imageURL2}))},handleButtonClick(t){var e={pairId:this.annoInfos[this.showedPairIndex].pairId,isSimilar:t};f({url:"/humanAnno",method:"post",headers:{"Content-Type":"application/json"},data:JSON.stringify(e)}).then((t=>{console.log(t.data)})),this.showedPairIndex+1<this.annoInfos.length?(this.showedPairIndex++,this.image1_src=this.annoInfos[this.showedPairIndex].imageURL1,this.image2_src=this.annoInfos[this.showedPairIndex].imageURL2):alert("标注完成，请点击计算按钮")},handleCalButton(){f({url:"/calculate",method:"get"}).then((t=>{this.calculateResult=t.data.data,console.log(t.data)}))}},data(){return{image1_src:"",image2_src:"",annoInfos:[],showedPairIndex:0,calculateResult:{}}}},j=U,F=(0,p.Z)(j,Z,A,!1,null,"89bb9eb2",null),L=F.exports,M={components:{ColorMoments:I,ORB:k,SearchImage:N,ImageAnnotation:L},data(){return{componentName:"SearchImage"}}},T=M,z=(0,p.Z)(T,o,i,!1,null,null,null),J=z.exports,D={name:"App",components:{IndexPage:J}},E=D,V=(0,p.Z)(E,s,a,!1,null,null,null),$=V.exports;r.ZP.config.productionTip=!1,new r.ZP({render:t=>t($)}).$mount("#app")}},e={};function n(r){var s=e[r];if(void 0!==s)return s.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,r,s,a){if(!r){var o=1/0;for(u=0;u<t.length;u++){r=t[u][0],s=t[u][1],a=t[u][2];for(var i=!0,l=0;l<r.length;l++)(!1&a||o>=a)&&Object.keys(n.O).every((function(t){return n.O[t](r[l])}))?r.splice(l--,1):(i=!1,a<o&&(o=a));if(i){t.splice(u--,1);var c=s();void 0!==c&&(e=c)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[r,s,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var s,a,o=r[0],i=r[1],l=r[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(l)var u=l(n)}for(e&&e(r);c<o.length;c++)a=o[c],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(u)},r=self["webpackChunkimage_retrieval_front"]=self["webpackChunkimage_retrieval_front"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(3999)}));r=n.O(r)})();
//# sourceMappingURL=app.060e2e1e.js.map